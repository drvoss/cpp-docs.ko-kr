---
title: MSVC 링커 참조
ms.date: 12/10/2018
ms.assetid: bb736587-d13b-4f3c-8982-3cc2c015c59c
ms.openlocfilehash: d46874b5eaff889834df284ba90e6c6f196d8d66
ms.sourcegitcommit: 8e285a766523e653aeeb34d412dc6f615ef7b17b
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/21/2020
ms.locfileid: "80079507"
---
# <a name="linking"></a>연결

C++ 프로젝트에서 *링크* 단계는 컴파일러가 소스 코드를 개체 파일 (* .obj)로 컴파일한 후에 수행 됩니다. 링커 (link .exe)는 개체 파일을 단일 실행 파일로 결합 합니다.

링커 옵션은 Visual Studio 내부 또는 외부에서 설정할 수 있습니다. Visual Studio 내에서 **솔루션 탐색기** 의 프로젝트 노드를 마우스 오른쪽 단추로 클릭 하 **고 속성을 선택 하** 여 속성 페이지를 표시 하는 방식으로 링커 옵션에 액세스 합니다. 왼쪽 창에서 **링커** 를 선택 하 여 노드를 확장 하 고 모든 옵션을 볼 수 있습니다.

## <a name="linker-command-line-syntax"></a>링커 명령줄 구문

Visual Studio 외부에서 링크를 실행 하는 경우 하나 이상의 방법으로 입력을 지정할 수 있습니다.

- 명령줄에서 설정

- 명령 파일 사용

- 환경 변수

LINK를 실행하면 LINK 환경 변수에 지정된 옵션이 먼저 처리된 다음 명령줄과 명령 파일에 지정된 옵션이 순서대로 처리됩니다. 서로 다른 인수를 사용하여 동일한 옵션을 반복하는 경우에는 마지막으로 처리된 옵션이 가장 우선합니다.

옵션은 전체 빌드에 적용되지만 특정 입력 파일에는 옵션이 적용되지 않을 수도 있습니다.

링크를 실행 합니다. EXE에서 다음 명령 구문을 사용 합니다.

```
LINK arguments
```

`arguments`는 옵션과 파일 이름을 포함 하며 순서에 관계 없이 지정할 수 있습니다. 먼저 옵션을 처리 한 다음 파일을 처리 합니다. 하나 이상의 공백이 나 탭을 사용 하 여 인수를 구분 합니다.

> [!NOTE]
>  이 도구는 Visual Studio 명령 프롬프트에서만 시작할 수 있습니다. 시스템 명령 프롬프트 또는 파일 탐색기에서는 시작할 수 없습니다.

## <a name="command-line"></a>명령 줄

명령줄에서 옵션은 옵션 지정자, 대시 (-) 또는 슬래시 (/), 옵션의 이름을 차례로 구성 하 여 구성 됩니다. 옵션 이름은 약식으로 표기할 수 없습니다. 일부 옵션은 콜론 (:) 뒤에 지정 되는 인수를 사용 합니다. /COMMENT 옵션의 따옴표 붙은 문자열 내에서는 제외 하 고 옵션 지정 내에서 공백 또는 탭을 사용할 수 없습니다. Decimal 또는 C 언어 표기법으로 숫자 인수를 지정 합니다. 옵션 이름과 해당 키워드 또는 파일 이름 인수는 대/소문자를 구분 하지 않지만 인수는 대/소문자를 구분 합니다.

링커에 파일을 전달 하려면 LINK 명령 뒤에 명령줄에서 파일 이름을 지정 합니다. 파일 이름으로 절대 경로 또는 상대 경로를 지정할 수 있으며, 파일 이름에 와일드 카드를 사용할 수 있습니다. 점 (.) 및 파일 이름 확장명을 생략 하면 LINK에서는 파일을 찾기 위해 .obj를 가정 합니다. LINK에서는 파일의 내용에 대 한 가정을 만들 수 있는 파일 이름 확장명 또는이를 사용 하지 않습니다. 검사 하 여 파일 유형을 확인 하 고 적절 하 게 처리 합니다.

link .exe는 성공 (오류 없음)에 대해 0을 반환 합니다.  그렇지 않으면 링커는 링크를 중지 한 오류 번호를 반환 합니다.  예를 들어 링커가 LNK1104을 생성 하는 경우 링커는 1104을 반환 합니다.  따라서 링커에서 오류에 대해 반환 되는 가장 낮은 오류 번호는 1000입니다.  반환 값 128는 운영 체제 또는 .config 파일의 구성 문제를 나타냅니다. 로더가 링크 .exe 또는 c2 .dll을 로드 하지 않았습니다.

## <a name="link-command-files"></a>LINK 명령 파일

명령 파일 형식으로 링크에 명령줄 인수를 전달할 수 있습니다. 링커에 명령 파일을 지정 하려면 다음 구문을 사용 합니다.

> <em>Commandfile</em> **\@링크**

*Commandfile* 은 텍스트 파일의 이름입니다. At 기호 ( **\@** )와 파일 이름 사이에는 공백 또는 탭을 사용할 수 없습니다. 기본 확장 프로그램은 없습니다. 모든 확장명을 포함 하 여 전체 파일 이름을 지정 해야 합니다. 와일드 카드는 사용할 수 없습니다. 파일 이름으로 절대 경로 또는 상대 경로를 지정할 수 있습니다. LINK에서는 환경 변수를 사용 하 여 파일을 검색 하지 않습니다.

명령 파일에서 인수는 공백이 나 탭 (명령줄에서) 및 줄 바꿈 문자로 구분할 수 있습니다.

명령 파일에서 명령줄 전체 또는 일부를 지정할 수 있습니다. LINK 명령에 둘 이상의 명령 파일을 사용할 수 있습니다. LINK는 명령줄의 해당 위치에 지정 된 것 처럼 명령 파일 입력을 허용 합니다. 명령 파일은 중첩할 수 없습니다. LINK는 [/nologo](nologo-suppress-startup-banner-linker.md) 옵션이 지정 되지 않은 경우 명령 파일의 내용을 에코 합니다.

## <a name="example"></a>예제

DLL을 빌드하는 다음 명령을 사용 하 여 개체 파일 및 라이브러리의 이름을 별도의 명령 파일에 전달 하 고/내보내기 옵션의 지정에 세 번째 명령 파일을 사용 합니다.

```cmd
link /dll @objlist.txt @liblist.txt @exports.txt
```

## <a name="link-environment-variables"></a>LINK 환경 변수

LINK 도구는 다음과 같은 환경 변수를 사용합니다.

- 링크 및 \_링크\_(정의 된 경우). LINK 도구는 LINK 환경 변수에 정의 된 옵션 및 인수를 앞에 추가 하 고 \_링크\_ 환경 변수에 정의 된 옵션 및 인수를 처리 하기 전에 명령줄 인수에 추가 합니다.

- LIB(정의된 경우). LINK 도구는 명령줄에 지정 된 개체, 라이브러리 또는 다른 파일을 검색할 때 LIB 경로를 사용 하거나 [/base](base-base-address.md) 옵션을 사용 하 여 검색 합니다. 또한 LIB 경로를 사용하여 개체에 명명된 .pdb 파일을 찾습니다. LIB 변수에는 하나 이상의 경로 사양이 세미콜론으로 구분되어 포함될 수 있습니다. 한 경로는 Visual C++ 설치의 \lib 하위 디렉터리를 가리켜야 합니다.

- PATH(도구가 CVTRES를 실행해야 하고 LINK 자체와 동일한 디렉터리에서 파일을 찾을 수 없는 경우). 링크를 사용 하려면 .res 파일을 연결 하는 CVTRES가 필요 합니다. 경로는 시각적 C++ 설치의 \bin 하위 디렉터리를 가리켜야 합니다.

- TMP(OMF 또는 .res 파일을 연결할 때 디렉터리 지정)

## <a name="see-also"></a>참고 항목

[C/C++ 빌드 참조](c-cpp-building-reference.md)
[MSVC 링커 옵션](linker-options.md)
[모듈 정의 (.Def) 파일](module-definition-dot-def-files.md)
[링커 지원 지연 로드 된 dll에 대 한 지원](linker-support-for-delay-loaded-dlls.md)
